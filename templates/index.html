{% extends "base.html" %}
{% import "bootstrap/wtf.html" as wtf %}
{% block head %}
<link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='index.css') }}">
  {% endblock head %}
{% block content %}

  <div class="box">


    <!-- CTA Section -->
  <section class="cta-section">
    <div class="container">
      <h1 class="display-4 fw-bolder my-4"><strong>Automatic, Secure<br>& Dynamic<br>  <span class="gradient-primary clip-text" data-toggle="typed" data-list="Links.,QR Codes.,Bio Pages."></span></strong></h1>

      <strong><p class="fs-5 mb-5 text-center">Create short or customise URLs for free </p></strong>
      <form method="POST" action="" class="mt-3 mb-5 border rounded p-3">
		<div class="input-group input-group-lg align-items-center">
      {% if show %}
      <input type="text" class="form-control border-0" placeholder="" value="{{ shortened_url }}" disabled name="url" id="url">
      <div class="input-group-append border">
        <!-- <i class="fa fa-copy ms-5 h6 text-muted h-100" onclick="copyText()" style="cursor: pointer;"></i> -->
        <span class="btn btn-primary" onclick="copyText()" name="bt1">Copy</span>
        </div>
      {% else %}
      <input type="text" class="form-control border-0" placeholder="Paste a long url" name="url" id="url">
      <div class="input-group-append">
        <button class="btn btn-primary" type="submit" name="bt1">Shorten</button>
        </div>
      {% endif %}
		</div>
		</form>
    {% if show %}
    <div class="row">
      <div class="col md-4">
        <!-- qr code link -->
        <img src="https://api.qrserver.com/v1/create-qr-code/?size=150x150&data={{ shortened_url }}"
                alt="QR Code" class="mx-auto d-flex img-thumbnail mt-3" style="margin-bottom: 4rem;" />
      </div>
      <div class="col md-8">
        <h1>Register to get QR code and get more of your link</h1>
      </div>
    </div>
    {% endif %}
      <div >
      	<p>
		<ul class="list-unstyled mb-2 text-muted small">
		<li class="mb-1"><i class="fa fa-check me-2"></i> Start free, upgrade later</li>
		<li class="mb-1"><i class="fa fa-check me-2"></i> No credit card required</li>
		<li class="mb-1"><i class="fa fa-check me-2"></i> Easy to use</li>
		</ul>
		</p>
        <a href="" class="btn btn-primary px-4 py-3 fw-bold mb-1">Get Started for Free</a>
		</div>

    </div>
  </section>

    <hr>

  
  <div class="jumbotron">
    <h2 class="display-6 fw-bolder my-4"><strong>All that defines you, in a single, straightforward bio link.</strong></h2>
    <p class="fs-5 mb-5 text-center">A single link to simplify the sharing of all your profiles accounts from your Facebook, Instagram, TikTok, Twitter,<br> YouTube, and various other social media profiles..
           </p>
    <button type="button" class="btn btn-primary my-btn px-4 py-3 fw-bold mb-1" data-bs-toggle="modal" data-bs-target="#exampleModal">
      Create Free Bio Page
    </button>

  </div>
<hr>

    <!-- Features Section -->
  <section class="features">
    <div class="contaner">
       <h2 class="display-6 fw-bolder my-4"><strong>WHAT YOU CAN DO WITH LINKTOOLS</strong></h2> <br>
      <div class="row">

        <div class="col-md-4 p-3 card">
          <i class='bi bi-megaphone-fill' style="font-size:3rem"></i>
          <h4>Reach More Listeners</h4>
          <p>Give your fans one-click access to your music on Spotify, Apple Music, SoundCloud
            and any other music store or platform.</p>
        </div>
        <div class="col-md-4 p-3 card">
          <i class='bi bi-diagram-3-fill' style="font-size:3rem"></i>
          <h4>Unite Your Contents</h4>
          <p>Grow, own and engage your audience by unifying them in one place. </p>
        </div>
        <div class="col-md-4 p-3 card">
          <i class='bi bi-bar-chart-fill' style="font-size:3rem"></i>
          <h4>Measure Fan Engagement</h4>
          <p>Easily monitor how many fans have viewed your bio and which link they went directly into.</p>
        </div>
      </div>
    </div>
  </section>

<hr>



  <!-- Features Section -->
  <section class="jumbotron">
    <div class="contaner">
      <!--<h2>Features</h2>-->
      <h2 class="display-6 fw-bolder my-4"><strong>FEEDBACKS FROM OUR SATISFIED USERS</strong></h2> <br>
      <div class="row">
        <div class="col-md-4 p-3 card">
          <i class="fa fa-user fa-3x"></i>
          <h4>Paul Smith</h4>
          <h5>(Artiste)</h5>
          <p>I'm really happy using LinkTools. It's easy to use and has helped me connect with my fans in a way that
            I never could before.</p>
        </div>
        <div class="col-md-4 p-3 card">
          <i class="fa fa-user fa-3x"></i>
          <h4>Sarah Banks</h4>
          <h5>(Actress)</h5>
          <p>LinkTools have been so reliable and always there for me when I need a quick link for my Bio.</p>
        </div>
        <div class="col-md-4 p-3 card">
          <i class="fa fa-user fa-3x"></i>
          <h4>Innocent David</h4>
          <h5>(Blogger)</h5>
          <p>I love using LinkTool URL Shortener to create custom URL for my web pages.</p>
        </div>
      </div>
    </div>
  </section>
 <hr>
  <!-- Features Section -->
  <section class="features-section">
    <div class="contaner">
     <h2 class="display-4 fw-bolder my-4"><strong>Let the numbers do the talking.</strong></h2><br>
      <div class="row">
        <div class="col-md-4 p-3 card text-center  py-5 px-2 px-lg-5 rounded">
		<h1 class="h1 text-capitalize text-primary"><span class="gradient-primary fw-bolder clip-text">Powering</span></h1>
		<div class="h1">
		<span class="counter">549</span>
		<span class="counter-extra">+</span>
		</div>
		<h3 class="h6 text-capitalize fw-bold">Links</h3>
		</div>
        <div class="col-md-4 p-3 card text-center  py-5 px-2 px-lg-5 rounded">
		<h1 class="h1 text-capitalize text-primary"><span class="gradient-primary fw-bolder clip-text">Serving</span></h1>
		<div class="h1">
		<span class="counter">165420</span>
		<span class="counter-extra">+</span>
		</div>
		<h3 class="h6 text-capitalize fw-bold">Clicks</h3>
		</div>
        <div class="col-md-4 p-3 card text-center  py-5 px-2 px-lg-5 rounded">
		<h1 class="h1 text-capitalize text-primary"><span class="gradient-primary fw-bolder clip-text">Trusted by</span></h1>
		<div class="h1">
		<span class="counter">50</span>
		<span class="counter-extra">+</span>
		</div>
		<h3 class="h6 text-capitalize fw-bold">Amazing Customers</h3>
		</div>
      </div>
    </div>
  </section>
<hr>

<button type="button" class="btn btn-primary my-btn px-4 py-3 fw-bold mb-1 d-none" data-bs-toggle="modal" data-bs-target="#exampleModal1" id="myButton">
  Show
</button>




<hr>

<!-- Modal -->
<div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Choose Your Bio Name</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <div>
          <div class="mb-3">
            <form action="" method="post" class="form-group">
              <input type="text" class="form-control" name="brandname">
              <button type="submit" class="btn btn-secondary" name="bt2">Submit</button>
            </form>
            <div id="emailHelp" class="form-text">Your bio is your identity</div>
          </div>
        </div>
        <style>
          .btn-secondary {
              margin-top: 10px;
              font-size: 1rem;
              padding: 5px;
          }
      </style>
      </div>
    </div>
  </div>
</div>


<!-- Modal -->
{% if show %}

<div class="modal fade" id="exampleModal1" tabindex="-1" aria-labelledby="exampleModalLabel1" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Your Shortened Link</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
          <div class="card">
            <div class="card-body">
                <h5 class="card-title text-center">Short URL</h5>
                <p class="card-text text-center"><a href="{{ shortened_url }}" target="_blank">{{ shortened_url }}</a></p>
                <h5 class="card-title text-center">Original URL</h5>
                <p class="card-text text-center"><a href="{{ original_url }}" target="_blank">{{ original_url }}</a></p>
                <p class="d-flex justify-content-center m-auto align-items-center">
                    <img
                  src="https://api.qrserver.com/v1/create-qr-code/?size=150x150&data={{ shortened_url }}"
                  alt="QR Code" style="display: flex; justify-content: center;" class="img-thumbnail mt-3"
                />
                </p>

                <div class="d-flex justify-content-around align-items-center mt-5 mb-4 w-100">
                  <a href="javascript:void(0);" onclick="downloadQR('{{ original_url }}', '{{ original_url.id }}')" class="bg-primary rounded px-2 py-1 text-white" style="width: fit-content;">
                      <i class="fas fa-download h4"></i>
                  </a>
              </div>
            </div>
        </div>
      </div>
    </div>
  </div>
</div>
  
  {% endif %}

    
<!-- 
<div class="row">

    <h3 class="title">Welcome</h3>

    <div class="col-lg-8 col-md-10 mx-auto">

              {% for post in all_posts %}


          <h2 class="post-title">
            <a href=" {{post.yourlink}}"> {{ post.linkname}}</a>
            <a href="{{ url_for('user_blp.profile', sub_path=post.author_name) }}" target="_blank">Posted by  {{ post.author_name}}</a>

            </h2>
        <hr>
        {% endfor %}

      </div>
  </div> -->

  <span id="showValue" style="display: none;">{{ show }}</span>
</div>


<script>
  function downloadQR(qrUrl, id) {
        fetch("https://api.qrserver.com/v1/create-qr-code/?size=150x150&data=" + qrUrl)
            .then(response => response.blob())
            .then(blob => {
                var url = window.URL.createObjectURL(blob);
                var link = document.createElement('a');
                link.href = url;
                link.download = "qr_code_" + id + ".png";
                link.click();
                window.URL.revokeObjectURL(url);
            });
    }




    document.addEventListener("DOMContentLoaded", function() {
    var showValueSpan = document.getElementById("showValue");
    var showValue = showValueSpan.textContent; // Get the value as lowercase
    
    // Check the value of `showValue` and show the button if it's "true"
    if (showValue == 1) {
      document.getElementById("myButton");
    }
  });

  async function copyText() {
    var copyText = document.getElementById("url");
    try {
        await navigator.clipboard.writeText(copyText.value);
        alert("Short url copied");
    } catch (err) {
        console.error('Failed to copy text: ', err);
    }
}


</script>



{% endblock content %}
